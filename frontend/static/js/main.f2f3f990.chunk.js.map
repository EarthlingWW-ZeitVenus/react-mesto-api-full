{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/Pencil-big.svg","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AuthWithForm.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/Ok-icon.svg","images/Fail-icon.svg","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","userEmail","onSignOut","cssForLink","color","textDecoration","className","src","logo","alt","style","fontSize","lineHeight","display","alignItems","exact","path","marginLeft","background","border","cursor","onClick","to","CurrentUserContext","React","createContext","Card","cardIt","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","link","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","console","log","Array","isArray","backgroundImage","avatar","pencilBig","about","map","cardItem","Footer","props","Date","getFullYear","PopupWithForm","isOpen","onClose","onSubmit","children","buttonText","title","popupWithFormRef","useRef","useEffect","handleEscapeClose","evt","key","document","addEventListener","current","target","currentTarget","removeEventListener","ref","id","noValidate","ImagePopup","card","api","apiData","this","_url","url","res","ok","json","Promise","reject","fetch","credentials","then","_thenResponse","cardName","cardLink","method","headers","body","JSON","stringify","cardId","profileName","profileAbout","avatarUrl","email","password","token","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","event","preventDefault","minLength","maxLength","value","onChange","required","EditAvatarPopup","onUpdateAvatar","inputAvatarRef","placeholder","AddPlacePopup","onAddCard","cardTitle","setCardTitle","cardUrl","setCardUrl","AuthWithForm","onEmailChange","onPasswordChange","textAlign","Login","onLogin","setEmail","setPassword","Register","onRegister","iconImage","success","error","InfoTooltip","infotooltipData","message","status","margin","fontWeight","ProtectedRoute","Component","component","isLoggedIn","App","history","useHistory","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isInfotooltipPopupOpen","setIsInfotooltipPopupOpen","setInfotooltipData","setUserEmail","setIsLoggedIn","cardForDelete","setCardForDelete","isPopupDeleteOpen","setIsPopupDeleteOpen","catchResponse","err","alert","closeAllPopups","all","getProfile","getAllCards","currentUserObj","data","catch","localStorage","getItem","checkToken","push","removeItem","Provider","cardObj","i","changeLikeStatus","serverNewCard","c","login","jsonData","setItem","register","editProfile","newUser","changeAvatar","newAvatar","addCard","newCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f2f3f990.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import { Link, Switch, Route } from 'react-router-dom';\nimport React from 'react';\nimport logo from '../images/logo.svg';\n\n\nfunction Header({userEmail, onSignOut}) {\n\n  const cssForLink = {\n    color: \"white\",\n    textDecoration: \"none\"\n  }\n\n\n  return (\n    <header className=\"header header_align_center\">\n      <img className=\"logo\" src={logo} alt=\"логотип шапки сайта\" />\n      <div\n        style={{\n          fontSize: \"18px\",\n          lineHeight: \"22px\",\n          display: \"flex\",\n          alignItems: \"center\"\n        }}\n      >\n        <Switch>\n          <Route exact path=\"/\">\n            <p>{userEmail}</p>\n            <button\n              style={{\n                marginLeft: \"24px\",\n                background: \"black\",\n                color: \"white\",\n                border: \"none\",\n                cursor: \"pointer\"\n              }}\n              onClick={onSignOut}\n            >\n              Выйти\n            </button>\n          </Route>\n          <Route path=\"/sign-up\">\n            <Link style={cssForLink} to=\"/sign-in\">Войти</Link>\n          </Route>\n          <Route path=\"/sign-in\">\n            <Link style={cssForLink} to=\"/sign-up\">Регистрация</Link>\n          </Route>\n        </Switch>\n      </div>\n    </header>     \n  )\n}\n\n\nexport default Header;","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\n\n//ToDo: создать CSS-классы для отображения или скрытия эконки удаления карточки +\nfunction Card({ cardIt, onCardClick, onCardLike, onCardDelete }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = cardIt.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (`element__delete ${isOwn && 'element__delete_visible'}`);\n  const isLiked = cardIt.likes.some(item => item._id === currentUser._id);\n  const cardLikeButtonClassName = (`element__like ${isLiked && 'element__like_active'}`);\n  \n\n  function handleClick() {\n    onCardClick(cardIt);\n  };\n\n  function handleLikeClick() {\n    onCardLike(cardIt);\n  };\n\n  function handleDeleteClick() {\n    if(isOwn)\n      onCardDelete(cardIt);\n  };\n\n\n  return (\n    <li className=\"element\">\n      <img className=\"element__image\" src={cardIt.link} alt={cardIt.name} onClick={handleClick}/>\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"></button>\n      <div className=\"element__text-container\">\n        <h4 className=\"element__text\">{cardIt.name}</h4>\n        <div className=\"element__like-container\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n          <p className=\"element__like-number\">{cardIt.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n \n\nexport default Card;","export default __webpack_public_path__ + \"static/media/Pencil-big.a086f758.svg\";","import React from 'react';\nimport Card from './Card';\nimport pencilBig from '../images/Pencil-big.svg';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards}) {\n\n  console.log(cards);\n  console.log(typeof(cards));\n  console.log(Array.isArray(cards));\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  return (\n\n    <main className=\"content\">\n      \n    <section className=\"profile profile_align_top-center\">\n      <div className=\"profile__info-area\">\n        <div className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUser && currentUser.avatar})` }}>\n          <div className=\"profile__overlay\">\n            <img className=\"profile__edit-avatar\" src={pencilBig} alt=\"иконка с изображением карандаша\" />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-container\">\n            <h1 className=\"profile__full-name\">{currentUser && currentUser.name}</h1>\n            <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n          </div>\n          <p className=\"profile__profession\">{currentUser && currentUser.about}</p>\n        </div>\n      </div>\n      <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n    </section>\n\n    <section className=\"elements elements_align_top-bottom\">\n      <ul className=\"elements__list\">\n        {cards.map(cardItem =>\n          {\n            return (\n              <Card\n                key={cardItem._id}\n                cardIt={cardItem}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />    \n            )\n          })\n        }\n      </ul>\n    </section>\n\n    </main>\n\n  )\n}\n\n\nexport default Main;\n","function Footer(props) {\n  return (\n    <footer className=\"footer footer_align_center\">\n      <p className=\"footer__text\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n    </footer> \n  )\n}\n\n\nexport default Footer;","import React from 'react';\n\n\nfunction PopupWithForm({ name, isOpen, onClose, onSubmit, children, buttonText, title }) {\n\n  const popupWithFormRef = React.useRef();\n\n  \n  //Закрытие попапа по нажатию \"Esc\" и при клике по оверлею\n  React.useEffect(() => {\n    // debugger;\n    if(!isOpen) return;\n    const handleEscapeClose = (evt) => {\n      if(evt.key === \"Escape\") {\n        onClose();\n      }\n    };\n    const handleOverlayClose = (evt) => {\n      // debugger;\n      if (evt.target === evt.currentTarget && isOpen) {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    popupWithFormRef.current.addEventListener(\"click\", handleOverlayClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose)\n    }\n  }, [isOpen, onClose])\n  \n  \n  return (\n    <div\n      ref={popupWithFormRef}\n      className={`popup popup_theme_${name} ${isOpen && 'popup_opened'}`}\n    >\n      <div\n        className={`popup__container popup__container_theme_${name}`}\n      >\n        <button\n          className={`popup__close-button popup__close-button_theme_${name}`}\n          type=\"button\"\n          onClick={onClose}>\n        </button>\n        {\n          (name !== 'infotooltip') &&\n          <h3 className={`popup__title popup__title_theme_${name}`}>\n            {title}\n          </h3>\n        }\n        <form\n          className=\"popup__form\"\n          id={name}\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          <fieldset className={`popup__form-container popup__form-container_theme_${name}`}>\n            {children}\n          </fieldset>\n          {\n            (name !== 'infotooltip') &&\n            <button className={`popup__submit-button popup__submit-button_theme_${name} type=\"submit\"`}>\n              {buttonText}\n            </button>\n          }\n        </form>\n      </div>\n    </div>\n  )\n\n}\n\n\nexport default PopupWithForm;","function ImagePopup({card, onClose}) {\n\n  // console.log('Этот код выполнился в теле ImagePopup');\n\n  return (\n    <div className={`popup popup_theme_image ${card && 'popup_opened'}`}>\n      <figure className='popup__image-figure'>\n        <button className=\"popup__close-button popup__close-button_theme_image\" type=\"button\" onClick={onClose}></button>\n        <img className='popup__image' src={card && card.link} alt={card && card.name} />\n        <figcaption className='popup__caption'>{card && card.name}</figcaption>\n      </figure>\n    </div>\n  )\n}\n\n\nexport default ImagePopup;","import {apiData} from './constants';\n\nclass Api {\n  constructor(apiData) {\n    this._url = apiData.url;\n//    this._cohortId = apiData.cohortId;\n//    this._token = apiData.token;\n//    this._authUrl = apiData.authUrl;\n  }\n\n\n//Обработка логики then\n  _thenResponse(res) {\n    if (res.ok) return res.json();\n    return Promise.reject(res);\n  }\n\n//Получить массив карточек с сервера\n  getAllCards() {\n    return fetch(`${this._url}/cards`, {\n      credentials: 'include',\n//      headers: {\n//        \"authorization\": this._token,\n//      }\n    })\n    .then(res => {return this._thenResponse(res)});\n  }\n\n  //Добавление новой карточки на сервер\n  addCard(cardName, cardLink) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n//        \"authorization\": this._token,\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"name\": cardName,\n        \"link\": cardLink\n      })\n    })\n    .then(res => {return this._thenResponse(res)});\n  }\n\n  //Удаление карточки с сервера\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      credentials: 'include',    \n//      headers: {\n//        \"authorization\": this._token,\n//      }\n    })\n    .then(res => {return this._thenResponse(res)});\n  }\n\n  //Простановка или удаление лайка\n  changeLikeStatus(cardId, isLiked) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: isLiked ? \"DELETE\" : \"PUT\",\n      credentials: 'include',\n     // headers: {\n     //   \"authorization\": this._token,\n     // }\n    })\n    .then(res => this._thenResponse(res));\n  }\n\n  //Получает с сервера информацию о пользователе\n  getProfile() {\n    return fetch(`${this._url}/users/me`, {\n      credentials: 'include',\n      headers: {\n//        \"authorization\": this._token,\n        \"content-type\": \"application/json\"\n      }\n    })\n    .then(res => {return this._thenResponse(res)});\n  }\n\n  //Редактирует на сервере информацию о пользователе\n  editProfile(profileName, profileAbout) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n//        \"authorization\": this._token,\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"name\": profileName,\n        \"about\": profileAbout\n      })\n    })\n    .then(res => {return this._thenResponse(res)});\n  }\n\n  //Меняет иконку аватара пользователя\n  changeAvatar(avatarUrl) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n//        \"authorization\": this._token,\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"avatar\": avatarUrl\n      })\n    })\n    .then(res => {return this._thenResponse(res)});\n  }\n\n  //Регистрация пользователя\n  register(email, password) {\n    // debugger;\n    return fetch(`${this._url}/signup`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        \"accept\": \"application/json\",\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then(res => {\n      // debugger;\n      // console.log(`Вот такой ответ приходит при успешной регистрации - ${res.data.json}`)\n      return this._thenResponse(res);\n    });\n  }\n\n  //Авторизация пользователя\n  login(email, password) {\n    debugger;\n    return fetch(`${this._url}/signin`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        \"accept\": \"application/json\",\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then(res => {\n      console.log(res);\n//      debugger;\n      return this._thenResponse(res);\n    });\n  }\n\n  //Временное решение, пока сервер Практикума не заработает\n  // login(email, password) {\n  //   console.log(email);\n  //   console.log(password);\n  //   let promise = new Promise(function (resolve, reject) {\n  //     setTimeout(\n  //       () =>\n  //         resolve({\n  //           token:\n  //             'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjUxNDhlNWJiODhmZGNhOTIxYjZhYzciLCJpYXQiOjE1OTkyMTExNzN9.Q3DVLh7t0f0BjyG9gh3UlUREYQxl2chdGTGy701lF6I',\n  //         }),\n  //       2000,\n  //     );\n  //   });\n  //   return promise;\n  // }\n\n  checkToken(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        \"accept\": \"application/json\",\n        \"content-type\": \"application/json\",\n        \"authorization\": `Bearer ${token}`\n      }\n    })\n    .then(res => {\n//      debugger;\n      console.log(res);\n      return this._thenResponse(res);\n    })\n  }\n\n}\n\nconst api = new Api(apiData);\n\nexport default api;\n","// const profileEditButton = document.querySelector('.profile__edit-button');\n// const profileAddButton = document.querySelector('.profile__add-button');\n// const popupProfileForm = document.forms.profileinfo;\n// const popupProfileFormFullName = popupProfileForm.elements.name;\n// const popupProfileFormProfession = popupProfileForm.elements.about;\n// const profileAvatar = document.querySelector('.profile__avatar');\n  \n  //Объекты настроек классов cardData, validatorData, popupData и apiData\n  const cardData = {\n    templateSelector: '#template-element',\n    imageSelector: '.element__image',\n    deleteButtonSelector: '.element__delete',\n    likeButtonSelector: '.element__like',\n    textSelector: '.element__text',\n    templateElement: '.element',\n    elementLikeActive: 'element__like_active',\n    popupThemeImage: '.popup_theme_image',\n    containerSelector: '.elements__list',\n    likesNumberSelector: '.element__like-number'\n  }\n  const validatorData = {\n    formSelector: '.popup__form',\n    inputSelector: '.popup__input',\n    submitButtonSelector: '.popup__submit-button',\n    inactiveButtonClass: 'popup__submit-button_theme_inactive',\n    inputErrorClass: 'popup__input_type_error',\n    errorClass: 'popup__input-error_active'\n  }\n  const popupData = {\n    popupProfile: '.popup_theme_profile',\n    popupPlace: '.popup_theme_place',\n    popupImage: '.popup_theme_image',\n    popupDelete: '.popup_theme_delete',\n    popupAvatar: '.popup_theme_avatar'\n  }\n  const apiData = {\n    url: 'http://api-mesto.students.nomoredomains.rocks',\n//    cohortId: 'cohort-21',\n//    token: '5c233d66-a804-4163-848b-90319eaed808',\n//    authUrl: 'https://auth.nomoreparties.co'\n  }\n\n  export { cardData, validatorData, popupData, apiData };\n  \n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup({ isOpen, onUpdateUser, onClose }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  //Для первичной установки данных пользователя в поля формы при\n  //монтировании компонента и/или при изменении данных пользователя\n  //в глобальном стейте-контексте\n  React.useEffect(() => {\n    if(currentUser) {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    }\n    else{\n      setName('');\n      setDescription('');\n    }\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  };\n  function handleChangeDescription(event) {\n    setDescription(event.target.value);\n  };\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      onClose={onClose}\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_field_full-name\"\n        id=\"full-name\"\n        name=\"name\"\n        type=\"text\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name}\n        onChange={handleChangeName}\n        required\n      />\n      <span\n        className=\"popup__input-error popup__input-error_field_full-name\"\n        id=\"full-name-error\">\n      </span>\n      <input\n        className=\"popup__input popup__input_field_profession\"\n        id=\"profession\"\n        name=\"about\"\n        type=\"text\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description}\n        onChange={handleChangeDescription}\n        required\n      />\n      <span\n        className=\"popup__input-error popup__input-error_field_profession\"\n        id=\"profession-error\">\n      </span>\n    </PopupWithForm>\n  )  \n}\n\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\n\n  // console.log('Этот код выполнился в теле EditAvatarPopup');\n\n  const inputAvatarRef = React.useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateAvatar({\n      avatar: inputAvatarRef.current.value\n    });\n    inputAvatarRef.current.value='';\n  }\n\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      onClose={onClose}\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={inputAvatarRef}\n        className=\"popup__input popup__input_field_link-to-avatar\"\n        id=\"link-to-avatar\"\n        name=\"linktoavatar\"\n        type=\"url\"\n        placeholder=\"Укажите ссылку на новый аватар\"\n        required\n      />\n    </PopupWithForm>\n  )\n}\n\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\n\nfunction AddPlacePopup({ isOpen, onAddCard, onClose }) {\n\n  // console.log('Этот код выполнился в теле AddPlacePopup');\n\n  const [cardTitle, setCardTitle] = React.useState('');\n  const [cardUrl, setCardUrl] = React.useState('');\n\n  function handleChangeTitle(event) {\n    setCardTitle(event.target.value);\n  };\n  function handleChangeUrl(event) {\n    setCardUrl(event.target.value);\n  };\n  function handleSubmit(event) {\n    event.preventDefault();\n    onAddCard(cardTitle, cardUrl);\n  }\n\n  React.useEffect(() => {\n    setCardTitle('');\n    setCardUrl('');\n  }, [isOpen]);\n\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      name=\"place\"\n      title=\"Новое место\"\n      onClose={onClose}\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_field_place-title\"\n        id=\"place-title\"\n        name=\"placetitle\"\n        type=\"text\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={cardTitle}\n        onChange={handleChangeTitle}\n        required\n      />\n      <span\n        className=\"popup__input-error popup__input-error_field_place-title\"\n        id=\"place-title-error\"\n      >\n      </span>\n      <input\n        className=\"popup__input popup__input_field_link-to-image\"\n        id=\"link-to-image\" name=\"linktoimage\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        value={cardUrl}\n        onChange={handleChangeUrl}\n        required\n      />\n      <span\n        className=\"popup__input-error popup__input-error_field_link-to-image\"\n        id=\"link-to-image-error\">\n      </span>\n    </PopupWithForm>\n  )\n}\n\n\nexport default AddPlacePopup;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nfunction AuthWithForm({name, title, buttonText, onSubmit, onEmailChange, onPasswordChange, email, password}) {\n\n\n  return (\n    <div className=\"auth-with-form auth-with-form_transform_position\">\n      <h3 className=\"auth-with-form__title\">{title}</h3>\n      <form className=\"auth-with-form__form\" id={name} name={name} onSubmit={onSubmit} noValidate>\n        <fieldset className=\"auth-with-form__field-container\">\n          <input\n            className=\"auth-with-form__input auth-with-form__input_field_email\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            minLength=\"5\"\n            onChange={onEmailChange}\n            value={email}\n            required\n          />\n          <span\n            className=\"auth-with-form__input-error auth-with-form__input-error_field_email\"\n            id=\"auth-with-form-email-error\"> \n          </span>\n          <input\n            className=\"auth-with-form__input auth-with-form__input_field_password\"\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            minLength=\"5\"\n            onChange={onPasswordChange}\n            value={password}\n            required\n          />\n          <span\n            className=\"auth-with-form__input-error auth-with-form__input-error_field_password\"\n            id=\"auth-with-form-password-error\">\n          </span>\n        </fieldset>\n        <button className=\"auth-with-form__submit-button\" type=\"submit\">{buttonText}</button>\n      </form>\n      {\n        (name === 'register') &&\n        <p style={{textAlign: \"center\", fontSize: \"14px\"}}>\n          Уже зарегистрированы?\n          <Link style={{textDecoration: \"none\", color: \"white\"}} to=\"/sign-in\">\n            Войти\n          </Link>\n        </p>\n      }      \n    </div>   \n  )\n\n}\n\n\nexport default AuthWithForm;","import React from 'react';\nimport AuthWithForm from './AuthWithForm';\n\n\nfunction Login({ onLogin }) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value)\n  };\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value)\n  };\n\n  function handleSubmit(evt) {\n    // debugger;\n    evt.preventDefault();\n    onLogin({email, password});\n  };\n\n  \n  return (\n    <AuthWithForm\n      name=\"login\"\n      title=\"Вход\"\n      email={email}\n      password={password}\n      buttonText=\"Войти\"\n      onSubmit={handleSubmit}\n      onEmailChange={handleEmailChange}\n      onPasswordChange={handlePasswordChange}\n    />\n  )\n}\n\n\nexport default Login;","import AuthWithForm from './AuthWithForm';\nimport React from 'react';\n\n\nfunction Register({onRegister}) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value)\n  };\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value)\n  };\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onRegister({email, password});\n  };\n\n\n  return (\n    <AuthWithForm\n      name=\"register\"\n      title=\"Регистрация\"\n      email={email}\n      password={password}\n      buttonText=\"Зарегистрироваться\"\n      onSubmit={handleSubmit}\n      onEmailChange={handleEmailChange}\n      onPasswordChange={handlePasswordChange}\n    />\n  )\n}\n  \n  \nexport default Register;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport SuccessIcon from '../images/Ok-icon.svg';\nimport ErrorIcon from '../images/Fail-icon.svg';\n\n\nconst iconImage = {\n  success: SuccessIcon,\n  error: ErrorIcon\n}\n\n\nfunction InfoTooltip({ isOpen, onClose, infotooltipData: {message, status} = {} }) {\n\n// console.log(`В ИнфотТултип ИзОпен такой - ${isOpen}`);\n  \n  return (\n    <PopupWithForm name=\"infotooltip\" isOpen={isOpen} onClose={onClose}>\n      <img style={{display: \"block\", margin: \"24px auto 8px\"}} src={iconImage[status]} alt={message}/>\n      <p style={{fontSize: \"24px\", fontWeight: \"900\", lineHeight: \"29px\", textAlign: \"center\"}}>{message}</p>\n    </PopupWithForm>\n  )\n}\n\n\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/Ok-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Fail-icon.df8eddf6.svg\";","import { Route, Redirect } from 'react-router-dom';\nimport React from 'react';\n\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n\n\n  return (\n    <Route>\n      { () => props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" /> }\n    </Route>\n  );\n};\n\n\nexport default ProtectedRoute;","import React from 'react';\nimport { Route, Switch, useHistory, Redirect} from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\n\n//ToDo:\n// 1. Не забыть поменять в header заголовок с name на email +\n// 2. Не забыть удалить отовсюду urlParameter +\n// 3. Навести порядок, разбить на секции и дать описание +\n// 4. Удалить отовсюду EnvironmentContext и файл, что содержит это внутри +\n// 5. Подумать насчет того, чтобы логика handleChangePassword и handleChangeEmail не срабатывала на глобальных стейтах password и email в App\n// это создает лишние операции рендеринга всех дочерних компонентов и самого компонента App +\n// 6. Был какой-то прием в теории, позволяющий при изменении стейта не рендерить дочерние компоненты, надо посмотреть его\n// 7. Удалить все ненужные файлы, те что закоментированы в index.css +\n// 8. Везде убрать пропсы, использовать деструктуризацию +\n// 9. Реализовать окрытие delete popup +\n// 10. Все длинные строки кода переделать в столбцы +\n// 11. Проверить октрытие попапа Infotool при разных условиях +\n\n\nfunction App() {\n\n  const history = useHistory();\n  \n  //Реакт-хуки состояний\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [isInfotooltipPopupOpen, setIsInfotooltipPopupOpen] = React.useState(false);\n  const [infotooltipData, setInfotooltipData] = React.useState({message:\"\", status:\"\"});\n  const [userEmail, setUserEmail] = React.useState('');\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [cardForDelete, setCardForDelete] = React.useState(null);\n  const [isPopupDeleteOpen, setIsPopupDeleteOpen] = React.useState(false);\n  \n\n  //Функция для обработки ошибок\n  function catchResponse(err) {\n    if(err.status) {\n      alert(`Сервер ответил ошибкой со статусом ${err.status}`)\n    }\n    else {\n      alert(`Ваш запрос не ушел на сервер или сервер не ответил, ошибка ${err}`)\n    };\n  };\n\n  //Регистрация пользователя\n  function onRegister({email, password}) {\n    api.register(email, password)\n      .then(() => {\n        history.push('/sign-in');\n        setInfotooltipData({\n          message: 'Вы успешно зарегистрировались!',\n          status: 'success'\n        });\n        setIsInfotooltipPopupOpen(true);\n      })\n      .catch(() => {\n        setInfotooltipData({\n          message: 'Что-то пошло не так! Попробуйте ещё раз.',\n          status: 'error'\n        });\n        setIsInfotooltipPopupOpen(true);\n      })\n  }\n\n  //Авторизация пользователя\n  function onLogin({email, password}) {\n    //debugger;\n    api.login(email, password)\n      .then(jsonData => {\n        localStorage.setItem('jwt', jsonData.token);\n        setIsLoggedIn(true);\n        setUserEmail(email);\n        history.push('/');\n      })\n      .catch(() => {\n        //debugger;\n        setInfotooltipData({\n          message: 'Что-то пошло не так! Попробуйте ещё раз.',\n          status: 'error'\n        });\n      })\n  }\n\n  //Выход пользователя\n  function onSignOut(){\n    //debugger;\n    localStorage.removeItem(\"jwt\");\n    setIsLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  //Изменеие лайк-статуса карточки\n  function handleCardLike(card) {\n    //debugger;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeStatus(card._id, isLiked)\n    .then((serverNewCard) => {\n      setCards(cards => cards.map(c => c._id === card._id ? serverNewCard : c));\n    })\n    .catch(err => catchResponse(err));\n  };\n\n  //Открытие попапа при удалении карточки\n  function handleCardDeleteInitial(card) {\n    //debugger;\n    setCardForDelete(card);\n    setIsPopupDeleteOpen(true);\n  };\n\n  //Удаление карточки\n  function handleCardDelete(evt) {\n    //debugger;\n    evt.preventDefault();\n    api.deleteCard(cardForDelete._id)\n    .then(() => {\n      setCards(cards => cards.filter(c => c._id !== cardForDelete._id));\n      setIsPopupDeleteOpen(false);\n    })\n    .catch(err => catchResponse(err));\n  };\n\n  //Изменение имени и профессии пользователя\n  function handleUpdateUser({name, about}) {\n    api.editProfile(name, about)\n    .then(newUser => {\n      setCurrentUser(newUser);\n      closeAllPopups();\n    })\n    .catch(err => catchResponse(err));\n  };\n\n  //Изменение аватара пользователя\n  function handleUpdateAvatar({avatar}) {\n    api.changeAvatar(avatar)\n    .then(newAvatar => {\n      setCurrentUser(newAvatar);\n      closeAllPopups();\n    })\n    .catch(err => catchResponse(err));\n  };\n\n  //Добавление новой карточки\n  function handleAddCard(cardTitle, cardUrl) {\n    api.addCard(cardTitle, cardUrl)\n    .then(newCard => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch(err => catchResponse(err));\n  };\n\n  //Хендлеры установки состояний попапов\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleCardClick = (cardObj) => {\n    setSelectedCard(cardObj);\n  };\n\n  //Закрывает все попапы\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsPopupDeleteOpen(false);\n    setIsInfotooltipPopupOpen(false);\n    // setInfotooltipData({message:\"\", status:\"\"});\n  };\n\n\n  //Хук осуществляющий запрос данных с сервера\n  React.useEffect(() => {\n    if (isLoggedIn) {\n    //Тут выполняется код при рендере любого компонета Main или самого Main (если не указан конкретный компонент в конце)\n      Promise.all( [api.getProfile(), api.getAllCards()] )\n      .then(([currentUserObj, {data}]) => {\n      setCurrentUser(currentUserObj);\n      setCards(data);\n      })\n      .catch(err => catchResponse(err));\n    }\n    //return () => {\n    //Код внутри return выполнится при удалении любого или указанного компонета Main\n    //}\n  }, [isLoggedIn]);//После запятой указывается конкретный компонет или компоненты в массиве,\n  //если массив пустой то этот код исполнится один раз, если нет ничего будет выполнятся\n  // при каждом изменении любого компонента внутри родителя или самого родителя\n\n  \n  //Хук проверки токена пользователя\n  React.useEffect(() => {\n    //debugger;\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      api.checkToken(token)\n      .then(res => {\n        //debugger;\n        setUserEmail(res.data.email);\n        setIsLoggedIn(true);\n        history.push('/');\n      })\n      .catch(() => localStorage.removeItem('jwt'));\n    }\n  }, [history]);\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page page_content_paddings\">\n\n        <Header \n          userEmail={userEmail}\n          onSignOut={onSignOut}\n        />\n\n        <Switch>\n\n          <ProtectedRoute\n            exact path=\"/\"\n            component={Main}\n            isLoggedIn={isLoggedIn} \n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDeleteInitial}\n            cards={cards}\n          />\n\n          <Route path=\"/sign-in\">\n            <Login onLogin={onLogin} />\n          </Route>\n\n          <Route path=\"/sign-up\">\n            <Register onRegister={onRegister}/>\n          </Route>\n\n          <Route path=\"*\">\n            { isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\"/> }\n          </Route>\n\n        </Switch>\n      \n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfotooltipPopupOpen}\n          onClose={closeAllPopups}\n          infotooltipData={infotooltipData}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddCard={handleAddCard}\n        />\n\n        <PopupWithForm\n          isOpen={isPopupDeleteOpen}\n          name=\"delete\"\n          title=\"Вы уверены?\"\n          buttonText=\"Да\"\n          onSubmit={handleCardDelete}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n      </div>\n\n    </CurrentUserContext.Provider>\n  );\n};\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}